<div class="container-fluid mt-4">
  <div class="card modern-card">
    <!-- HEADER NORMALIZADO CON SISTEMA DE COLORES -->
    <div class="banner-centro-atencion">
      <div class="header-content">
        <div class="title-section">
          <div class="icon-centro-atencion">
            <i class="fas fa-hospital"></i>
          </div>
          <div class="header-text">
            <h1>Centros de Atenci√≥n</h1>
            <p>Gesti√≥n de centros m√©dicos y establecimientos de salud</p>
          </div>
        </div>
        <button
          class="btn btn-new"
          (click)="router.navigate(['/centrosAtencion/new'])"
        >
          <i class="fas fa-plus me-2"></i>
          Nuevo Centro
        </button>
      </div>
    </div>

    <!-- TABLA NORMALIZADA -->
    <div class="table-container">
      <table class="table modern-table">
        <thead>
          <tr>
            <th>
              <div class="header-cell">
                <span class="icon-centro-atencion">ID</span>
                Identificador
              </div>
            </th>
            <th>
              <div class="header-cell">
                <span class="icon-centro-atencion">üè•</span>
                Nombre
              </div>
            </th>
            <th>
              <div class="header-cell">
                <span class="icon-centro-atencion">üìç</span>
                Direcci√≥n
              </div>
            </th>
            <th>
              <div class="header-cell">
                <span class="icon-centro-atencion">üèôÔ∏è</span>
                Localidad
              </div>
            </th>
            <th>
              <div class="header-cell">
                <span class="icon-centro-atencion">üó∫Ô∏è</span>
                Provincia
              </div>
            </th>
            <th>
              <div class="header-cell">
                <span class="icon-centro-atencion">üìû</span>
                Tel√©fono
              </div>
            </th>
            <th>
              <div class="header-cell">
                <span class="icon-centro-atencion">üåç</span>
                Coordenadas
              </div>
            </th>
            <th>
              <div class="header-cell">
                <span class="icon-centro-atencion">‚öôÔ∏è</span>
                Acciones
              </div>
            </th>
          </tr>
        </thead>
        <tbody>
          <tr
            *ngFor="let centro of resultsPage.content || []; let i = index"
            class="table-row"
            [class.even]="i % 2 === 0"
            [class.odd]="i % 2 !== 0"
            [class.selected]="centro.id === selectedId"
            (click)="goToDetail(centro.id)"
          >
            <td>
              <span class="badge-centro-atencion">{{ centro.id }}</span>
            </td>
            <td>
              <div class="nombre-info">
                <div class="avatar-centro-atencion">üè•</div>
                <span class="nombre-text">{{ centro.nombre }}</span>
              </div>
            </td>
            <td>
              <span class="badge-centro-atencion">{{ centro.direccion }}</span>
            </td>
            <td>
              <span class="badge-centro-atencion">{{ centro.localidad }}</span>
            </td>
            <td>
              <span class="badge-centro-atencion">{{ centro.provincia }}</span>
            </td>
            <td>
              <div class="telefono-info">
                <i class="fas fa-phone"></i>
                <span>{{ centro.telefono }}</span>
              </div>
            </td>
            <td>
              <div class="coords-info">
                <span class="coord-lat">{{ centro.latitud }}</span>
                <span class="coord-separator">,</span>
                <span class="coord-lng">{{ centro.longitud }}</span>
              </div>
            </td>
            <td class="actions-cell">
              <div class="action-buttons">
                <button
                  (click)="goToEdit(centro.id); $event.stopPropagation()"
                  class="btn-action btn-edit"
                  title="Editar centro"
                >
                  <i class="fas fa-edit"></i>
                </button>
                <button
                  (click)="remove(centro); $event.stopPropagation()"
                  class="btn-action btn-delete"
                  title="Eliminar centro"
                >
                  <i class="fas fa-trash"></i>
                </button>
              </div>
            </td>
          </tr>
          <tr *ngIf="resultsPage.content?.length === 0">
            <td colspan="8" class="text-center py-4 text-muted">
              <i class="fas fa-hospital fa-3x mb-3 d-block opacity-50"></i>
              No hay centros de atenci√≥n registrados
            </td>
          </tr>
        </tbody>
      </table>
    </div>

    <!-- FOOTER MODERNO -->
    <div class="card-footer modern-footer">
      <app-pagination
        [totalPages]="resultsPage.totalPages"
        [currentPage]="currentPage"
        (pageChangeRequested)="onPageChangeRequested($event)"
        [number]="resultsPage.number"
        [hidden]="resultsPage.numberOfElements < 1"
      >
      </app-pagination>
    </div>
  </div>
</div>
